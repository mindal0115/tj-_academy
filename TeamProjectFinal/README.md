# **프로젝트 주제 : 고객 분류를 통한 소형 SUV 판매량 예측**

# 1. 기본 개요 
## 1-1 아이디어 배경 

선진국에선 소득 수준이 상승할수록 더 큰차를 선호하는 트렌드가 공통적으로 관찰되어왔다. 세단에서 웨건으로, 웨건에서 SUV로, SUV 중에선 중소형에서 중대형으로 시장의 주류가 변해왔다. 한국 자동차 시장도 큰 흐름은 비슷했다. 카니발은 일찍이 기아자동차 내 국내 판매량 1위 모델이 되었고 올해 모하비를 업그레이드해 출시할 예정이고, 현대자동차도 펠리세이드를 성공적으로 출시했다. 

한국 자동차 시장 속엔 세미 트렌드가 있다. 마티즈, 모닝, 레이, 스파크 등으로 이어지는 경차와 티볼리, 코나, QM3 등 소형 SUV의 인기도 꾸준했다. 현대자동차는 7월 11일 '혼라이프 SUV'라는 슬로건을 앞세워 소형 SUV 베뉴를 출시했다. 기아자동차도 셀토스를 출시하며 소형 SUV라인을 보강했다. 

소형차는 왜 꾸준히 인기를 얻고 있는 걸까? 현대자동차와 기아자동차는 이미 코나와 스토닉이 있음에도 불구하고 왜 추가로 소형 SUV를 출시하는 것일까? **사람들은 무엇 때문에 소형 SUV를 살까?** 우리는 이 소형 SUV 수요의 근원지를 찾고자 한다. 

## 1-2 이론적 배경 

애초 분석하고자 하는 주제에 접근할 때 사람들의 관심 정보를 가장 잘 나타내는 지표로 구글 트렌드와 네이버 데이터랩을 떠올렸다. 검색의 많고 적음이 판매량으로 이어지를 가장 직관적으로 분석할 수 있었기 때문이다. 하지만 구글 트렌드 인덱스와 자동차 판매량의 상관관계를 연구한 논문 중엔 인덱스와 판매량의 상관관계를 직접 설명하기는 어렵다는 의견이 다수 있었다. 우리는 "사람들이 검색을 많이 해서 자동차가 많이 팔렸다"라고 단순화하여 현실을 받아들일 수가 없었기 때문이다.

Olivia H. Plant는 소셜 미디어가 자동차 판매에 미치는 영향에 대해 연구한 자료에서 인덱스와 판매량의 상관관계를 설명할 수 있는 합리적인 연구방법을 제시했는데, 그는 소비자 행동을 Attention, Interest, Desire, Action 4단계로 나누었다. 각 단계에서 소비자 행위에 영향을 미치는 요소들을 파악하고 이들의 인관관계를 설명해야 하고자한 것이다. 

우리는 한국에서 자동차를 구매하려는 소비자의 행동을 위 4단계에 맞춰 구상했고, Interest, Desire, Action 단계에서 소비자들은 각각 다른 장소에서 정보를 획득하고 의사결정에 활용한다는 것을 발견했다. Interest 단계에서 소비자들은 주로 네이버나 다음 등 포털사이트에서 가장 먼저 정보를 접한다. 그리고 네이버 카페와 같은 커뮤니티에서 타 유저들과 상호작용하며 정보를 교환한 다음. Desire 단계에선 자동차 금융 사이트, 중고차 거래 사이트 등을 조회하고 오프라인 매장으로 이동하여 시승을 하기도 한다. 마지막으로 자동차를 구매하기로 한 소비자들은 Action 단계에서 오프라인 매장으로 이동해 자동차를 계약한다.  

위 흐름을 간단히 정리하자면, 포털사이트에서 차량에 대해 관심가지던 사람들이 금융 정보 사이트나 중고차 거래 사이트로 이동한 것이 확인되고, 똑같은 특징을 가진 사람들이 자동차를 구매했다는 것을 알 수 있다면, 우리는 소비자가 Interest 단계에서 Desire 단계를 거쳐 Action 단계로 나아간 것이라고 생각해볼 수 있다. 

## 1-3 데이터 분석의 목표  

우리는 interest 단계에서 나타나는 사람들의 특징(A)을 캐치하고, 자동차 금융 사이트나 중거차 거래 사이트를 방문하는 사람들의 웹로그(B)를 수집하여 대조한 다음, 소형 SUV 구매자의 특징(C)와 일치하는지 확인해보려고 한다. 

ex) 언론사들은 티볼리를 젊은 여성이 관심가질 수 있도록 정보를 노출했고, 티볼리 네이버 카페에서 20-30대 여성 고객(A)의 활동이 많아진다면, 더 나아가 금융 정보 사이트나 자동차 대출 목적으로 금융회사를 방문하는 20-30대 여성(B)이 많아지고 실제로 20-30대 여성(C)의 티볼리 구매량이 티볼리의 평균 판매량을 아웃퍼폼한다는 것을 증명할 수 있다면. 우리는 20-30대 젊은 여성이 티볼리를 선호한다는 결론을 도출해낼 수 있다.  

## 1-4 프로젝트 단계 구상  

분석 초기에 구체적으로 구상했던 프로젝트의 진행 단계는 아래와 같다. 

[1] 소형 SUV의 대표 모델 1) 현대 코나, 2) 기아 스토닉, 3) 쌍용 티볼리, 4) 르노 QM3 4종을 표본으로 선택하여 공공데이터 포털 API를 통해 구매자의 성별, 연령대, 지역 등을 수집한다.  

[2] 각 모델의 네이버 카페에서 구매자와 구매예정자의 게시글을 찾아서 유저들의 주거지역과 게시글의 키워드, 조회수 등을 웹스크래핑을 통해 수집할 수 있었다. 

[3] 텍스트 마이닝을 통해 각 카페의 유저들이 어떤 키워드를 가장 많이 언급하는지를 분석하고  

[4] 이들이 관심을 가지는 키워드와 판매량의 상관계수를 구하면서 어떤 키워드에 관심을 가지는 사람들이 소형 SUV 자동차를 구매할 가능성이 높은지를 추측한다.  

[5] 베뉴의 카페에서 유저들이 가장 많이 교류하는 키워드가 무엇인지 텍스트 마이닝을 통해 확인한 다음, 4번에서 발견한 관심키워드와 소비자 특성간의 관계를 바탕으로 베뉴에 관심을 가지려고 하는 사람들의 특징을 역으로 유추한다 

[6] 유추한 특성을 가진 소비자들의 자동차 구매 패턴을 파악하여 신차의 기대 판매량을 산출할 계획이다. 

# 데이터 수집 및 분석 
## 2-1 기본 개요(발표 자료 참고)  
## 2-2 데이터 수집 방법

가장 먼저 공공 데이터 포털의 API를 이용하여 신차등룩정보를 조회했다. 우리는 2019년 5월에 부산에 사는 40대 여성이 자가용 목적으로 구매한 2019년형 코나가 총 8대임을 알 수 있다. 신차등록정보는 우리가 분석하고자하는 소비자의 인구통계학적 특징을 모두 제공해주기 때문에 앞서 1-3 데이터 분석 목표에서 언급했던 차량 구매자의 특징(C)을 확보한 셈이다.

소비자들의 관심사(키워드)를 파악하기 위해 우리가 가장 먼저 정보를 접하는 네이버에서 검색되는 뉴스 기사들을 스크래핑했다. 각 모델명으로 검색을 한 뒤 2017년 1월부터 2019년 6월까지 발간된 기사를 모두 수집했다. 동시에 각 모델의 네이버 카페에서 Q&A 게시판에 작성된 글들을 스크래핑했다. 뉴스를 통해 노출된 키워드들이 카페에서도 언급되며 카페 활성화로 이어지는지 확인해보기 위함이다.

## 2-3 데이터 분석 과정

우리는 수집한 코나, 티볼리, 스토닉, QM3에 대한 기본적인 특징을 파악하기 위해 시각화를 이용했고, 여러 그래프를 그리고 해석해보았다. 

자동차 판매량의 경우 기업의 공시 판매량과 약간의 차이가 있다. 이는 우리가 법인용 차량 구매량을 제외했고 연식도 2017년-2019년에 한해서 구매량을 조회했기 때문이다. 그럼에도 공시판매량과 크게 차이가 나지 않았기에 API를 통해 조회한 대수를 그대로 사용하기로 했다. 위 4개 모델의 판매량을 크게 두 그룹으로 나뉘었고, 2018년 4월부터는 티볼리가 본격적으로 코나의 판매량을 앞질렀다. 국산 소형 SUV 시장에서 티볼리와 코나는 꾸준히 2000대 이상의 판매량을 유지했고, 스토닉과 QM3는 판매량은 적지만 2018년 이래 마니아층을 형성한 듯 변동폭이 적은 판매량 추이를 보여주고 있다. 

본 분석은 누가 무엇 때문에 소형 SUV를 구매하는가를 알아보는 것이 목적이다. 공공데이터 포털을 통해 조회한 데이터만으로 '누가' 소형 SUV를 구매하는지 알아볼 수 있었다. 

각 성별 자동차 구매량을 파이차트로 시각화해보니 티볼리와 QM3는 여성 구매자의 비중이 50%를 넘었으며 코나와 스토닉도 2018년 시장 평균 여성 구매자 비율(30.1%, 출처 키이즈유 데이터연구소)보다 많은 여성이 차량을 구매하는 것으로 나타났다. 이 4개의 파이차트를 통해 우리는 소형 SUV가 다른 차종보다 더 여성의 선호를 받고 있다고 풀이했다. 

파이차트로 얻은 인사이트를 한번 더 검증해보기 위해 네이버 데이터랩에서 해당 모델에 대한 검색량 추이를 조회했다. 티볼리와 QM3의 여성 유저 검색량이 더 많았다. 하지만 QM3의 경우 여성 유저의 검색량이 눈에 띄게 남성 유저의 검색량을 상회한 것이 아니기에 추가적인 지표를 통해 여성이 더 많이 구매하고 있음을 검증해볼 필요가 있다. 

성별 판매량에 대해 더 구체적으로 알아보기 위해 이번엔 연령대별 구매량을 조회했다. 2018년 기준 대한민국의 인구는 20대부터 50대까지 13%-17%의 비중을 차지하고 있다. 하지만 차량의 구매량을 똑같은 바차트로 그려보면 30대-50대의 비중이 눈에 띄게 높음을 단번에 알 수가 있다. 이 두 차트를 통해 우리는 '30대-50대'가 소형 SUV를 더 많이 구매하는 것이 아닌가 추측하기 시작했다. 

성별과 연령대를 하나의 그래프로 표현해보니 여성의 경우 30-40대의 구매량이 남성에 비해 두드러지게 많았고, 남성은 50대의 구매량이 타 연령대에 비해 많았다. 이번엔 각 연령대별 차량 구매량을 바차트로 그려보니 티볼리가 여성 구매자와 비슷한 모습을, 코나가 남성 구매자와 비슷한 모습을 보였다. 이를 통해 우리는 1) 티볼리는 30-40대 여성이 선호하는 제품이며 2) 코나는 50대 남성이 선호하는 제품이라는 인사이트를 얻었다.  

더 다방면에서 위 인사이트가 신빙성이 있는지 알아보고자 라인차트를 추가로 작성했다. 각 연령별, 모델별 성비를 라인차트로 표현했으며 티블리의 30대-40대 여성비가 타 차종에 비해 압도적으로 높았으며 남성 50대의 경우 코나의 남성비가 높았다.  

2장에서 우리는 신차등록정보만을 이용해서 소형 SUV는 30-40대 여성과 50대 남성이 각각 코나와 티볼리를 선호하고 있음을 알아냈다. 이들이 무엇 때문에 소형 SUV를 구매하는지 알아볼 차례다.

# 3 머신러닝 분석 및 결과 

## 3-1 머시러닝 분석 과정 

수집한 4만건의 게시글과 24만건의 댓글 그리고 중복을 제외하고 남은 2만 여 건의 뉴스를 두고 어떻게 사람들의 관심사를 추출해낼지 고민했다. 2001년 마케팅 인사이트에서 "차량의 최종 구매를 결정할 때 고려하는 요인 26가지"를 설문조사하여 분석한 사례가 있었고 우리는 직접 수집한 게시글과 댓글에서 추출한 단어들을 이 26가지 카테고리로 재분류하여 분석에 활용하기로 했다. 그 결과 총 400개가 넘는 단어가 26가지 카테고리로 재분류되었다. 

(가상의 카페를 생성하는 과정 생략) 

이제 우리에겐 각 성별, 연령대, 주거지역이 명시된 유저들이 작성한 카페 게시글과 26가지 카테고리로 재분류된 키워드가 마련되었다. 상관계수를 산출하는 예를 들어보면, 서울 20대 여자가 2018년 1월 부터 2019년 5월 동안 구매한 자동차 대수를 구하고(라인1), 서울 20대 여자가 카페에서 작성한 연비와 관련된 글의 월 평균 조회수를 구한다(라인2). 라인1과 라인2의 유사도를 계산한 것이 상관계수가 되며 값은 0.116699다. 각 특징별로 상관계수를 구한 것이 하나의 열이 되는데, Pandas의 corrwith 함수를 이용하면 쉽게 산출해낼 수가 있다.

여기서 왜 조회수과 구매 대수를 이용하여 상관계수를 구했는지(좋아요나 댓글수가 아니라) 짚고 넘어가자면, 서울 20대 여자가 게시판에서 연비에 대한 글을 작성했을 때 그 게시글의 조회수가 많다면 그만큼 댓글이나 좋아수가 많아질 것이고 작성자는 그만큼 충분한 정보를 교류했기 때문에 그의 자동차 구매에 영향을 줄 것이라 생각했기 때문이다.

설문조사를 해본 사람들이라면 표본 추출의 중요성을 알 것이다. 우리나라 인구는 5000만 명인데 그중 1만 명을 랜덤으로 무작위로 추출하는 것은 이론적으로 가장 이상적이지만 가장 비현실적인 방법이기도 하다. 때문에 실제 설문조사를 할 때는 계층적 표본 추출 방법을 가장 무난하게 사용할 수가 있다. 

대부분 계층적 표본 추출은 3000명이 있는 고등학교에서 300명의 표본을 추출할 때 1학년에서 100명, 2학년에서 100명, 3학년에서 100명을 추출하는 예시를 든다. 이 '계층'은 장소도 될 수 있으며 강동역 아파트 청결 상태 설문조사를 실시할 때 현대 아이파크에서 100명을, 신동아 파밀리에에서 100명, 삼성 래미안에서 100명을 선정하고 설문조사를 하는 것처럼 말이다. 

우리는 인터넷 환경에서 데이터를 수집하고 있기 때문에 각 차종별로 각각의 다른 카페에서 데이터를 수집해야 했다. 그래서 가상의 카페를 4개를 더 생성했다. 즉 네이버에 개설된 코나 카페 5곳에서 게시글을 수집하고 각각 corrwith을 사용하여 상관계수를 구한 다음 PPT 33페이지 오른쪽에 있는 표를 작성한 셈이다.  

작성된 상관계수를 높고 낮음에 따라서 군집화하면 누가 어떤 키워드에 관심이 많은지 알수 있게다 싶어 비지도 학습인 k-means 알고리즘을 적용했다. 각 5개 카페에서 조사한 연비 관련 게시글과 판매량간의 상관계수들을 군집화하여 상관계수의 높낮음에 따라 3가지 군집으로 분류했다. 이 과정을 26가지 카테고리에 적용하여 군집화된 결과들만 하나의 표로 병합했다.  

## 3-2 머신러닝 분석 결과  

본 분석의 목적은 "누가 무엇 때문에 소형 SUV를 구매할까"라는 점을 다시 복기해보자. 우리는 3-1 단계에서 만들어낸 각 유형(지역, 성별, 연령)의 고객들이 관심이 많은 키워드가 무엇인지 알아보았다. 2-3 단계에선 30-40대 여성과 50대 남성이라는 특정 고객층을 발견했다. 이제 우리는 30-40대 여성과 50대 남성이 어떤 키워드에 관심이 많았는지 분석할 차례다 

(마감 기한 때문에 이 과정을 프로젝트 진행 당시 생략하게 됨. 각 성별과 연령대별로 키워드에 대한 관심 정도를 비율로 환산하여 테이블을 생성하고 각 테이블에서 어떤 유형의 소비자의 관심 많음 비중이 높은지를 관찰하는 것이 목적) 

7월 11일 신규 출시된 베뉴는 어떤 사람들이 관심을 가질까? 하는 궁금증을 해결하기 위해 베뉴의 네이버 카페에서 게시글을 수집하고 추출된 단어들을 동일하게 26가지 카테고리로 재분류했다. 그 결과 베뉴 카페에서는 차의 컬러, 편의사양, 가격, 기본사양에 대한 질문이 가장 많이 올라왔음을 알게 되었다.  

이제 다시 3-1의 결과로 돌아가 다른 모델의 구매자 중엔 차의 컬러, 편의사양, 가격, 기본 사양에 관심을 가지고 차량을 구매할 사람은 어떤 사람이었는지 확인해보았다. 분석 결과 우리는 30-40 여성과 50대 남성이 소형 SUV에 관심이 많다고 판단했으며 이는 2-3 단계에서 얻은 인사이트와 동일했다.  

또 추가로 20대 여성과 30대 남성이 컬러, 편의사양, 가격, 기본사양 등 키워드에 대한 관심이 높다는 것을 발견했다. 현대 베뉴는 혼라이프라는 슬로건을 내밀고 있는데, 기업의 홍보가 20-30대 젊은 층을 겨냥한 것이라 풀이해볼 수 있다. 또 현대자동차의 코나가 50대를 공략하고 있기 때문에 베뉴를 소형 SUV 라인에 추가하여 20대 고객을 겨냥할 것으로 전망된다. 20-30대 고객을 겨냥한다면 2-3 단계에서 분석한대로 20-30대 고객층이 두터운 쌍용 티볼리가 주요 경쟁상대가 될 것이며 이를 고려하며 마케팅 전략을 수립한다면 목표하고 있는 연간 1.5만 대의 판매량을 달성할 수 있을 것이라 본다. 

## 3-3 프로젝트의 보완점 

1-4 단계에서 프로젝트를 구상할 때 마지막 [6]번에서 신차의 기대 판매량을 구하고자 했다. 애초 우리는 3-2 단계에서 얻은 20대 여성과 30대 남성의 자동차 구매 패턴을 파악하여 신차 판매량을 구하고자 했다. 신차 판매량을 예측하는 것은 시계열 데이터를 예측하는 방법론이 필요했고, 주어진 시간내로 방법론에 대해 이해하고 분석에 적용하는 것은 무리가 있다고 판단하여 베뉴의 잠재고객을 파악하는 것으로 프로젝트를 마무리 지었다. 

만약 더 나아가 베뉴의 자동차 판매량을 예측하고자 한다면 회귀분석에 기반한 알고리즘을 사용할 것이며, 분류 알고리즘을 이용해 베뉴가 목표 판매량을 달성할 수 있을지 없을지 파악해볼 수도 있다.  

2-1 단계 ~ 3-2 단계를 진행하면서 발견한 문제점과 해결방안에 대해 이야기해보자.  
(1) 데이터는 현상 그대로 바라보아야 맞다. 주관적인 견해가 최소한으로 개입되어야 하는 것이 맞다. 하지만 우리는 앞서 게시글에서 단어를 추출하고 재분류하는 과정에서 주관적인 기준에 따라 분류하는 실수를 했다(비록 4명이 각각의 기준으로 단어를 분류하여 객관성을 높이는 시도는 했지만) 이 점은 SVM 또는 딥러닝을 활용하여 단어를 재분류하는 방법을 통해 개선할 수 있다. 분석 당시엔 이를 미처 생각하지 못했다. 

(2) 어떻게 하면 차량을 구매한 사람과 구매하려는 사람들의 게시글을 한 곳에서 확보할 수 있을까 고민했고, Q&A 게시판에서 이 데이터를 수집했다. 4만건의 게시글과 24만건의 댓글 그리고 2만건의 뉴스에서 단어를 추출했지만 26가지 카테고리로 재분류된 단어는 400여개 였다. 애초 이 단어들이 충분하다고 생각했지만 조회수가 아닌 게시글의 빈도수로 보면 두세달에 게시글 한편이 있을까 말까한 경우가 허다하다. 즉 우리가 아직도 충분한 양의 데이터를 확보하지 못한 것이라는 생각이 들었다. 물론 사람들이 네이버 카페에서 정말 유의미한 정보를 교류하는지, 구매행동에 영향을 줄만한 정보를 교류하는지도 의심해보아야 한다. 앞으로 또 네이버 카페나 인터넷 커뮤니티에서 데이터를 수집한다면 이 커뮤니티가 정말 구매에 결정적인 정보를 충분히 제공하고 있는지, 또 데이터는 충분히 수집했는지를 고려할 것이다. 

(3) corrwith을 이용하여 상관계수를 구할 때 게시글이 작성된 시기와 판매 시기간의 기차를 무시하고 분석을 진행했다. 자동차를 구매하고자 하는 소비자가 카페를 방문하고 나면 한달 이내로 자동차를 구매한다고 본 셈이다. 2-3개월의 시차를 두고 게시글의 조회수와 판매량의 상관계수를 구해본다면 또 다른 해석을 얻을 수 있을 것이다.  

(4) 본 분석에선 소형 SUV 구매자와 관심 키워드를 파악하는 것에 집중했다. 하지만 타 차종의 구매자가 같은 키워드에 관심을 가지고있는지 비교하진 않았다.  

# 4 프로젝트를 통해 배운점 또는 느낀점 그리고 배울점 

이 프로젝트는 데이터를 수집하고 데이터의 특징을 파악하는 기초적인 작업에 많은 시간을 투자했다. 기초를 탄탄하게 다져야 한다고 생각했기 때문이다. API를 사용해보고, 시계열 데이터를 다양한 방법으로 시각화해보기도 했으며 웹스크래핑을 통해 여러가지 형태의 웹사이트를 이해했다. 텍스트 마이닝을 하며 필요한 단어를 추출하는 작업에 대해 고민도 해보았고, 인터넷에 확보한 SNS 데이터의 활용 가능성도 고민했다. 

웹로그를 통해 유저들의 행동을 파악하는 것도 중요하지만 이들이 인터넷에서 공유하는 문장과 그 의도를 파악하는 분석도 분명 갈수록 더 필요해질 것이다. 여기서부터는 머신러닝에서 더 나아가 딥러닝이 필요한 단계이다. 앞으로도 배워야할 것은 더 많이 남아있다. 지난 4개월 동안은 붓꽃이나 타이타닉 생존자 예측같은 예시 데이터가 아닌 실생활에서 궁금했던 데이터를 수집하고 분석을 시도했다는 것에 큰 의미가 있으며 머신러닝과 딥러닝 분석으로 나아가기 위한 기초를 갈고 닦았다고 생각한다.  


 
